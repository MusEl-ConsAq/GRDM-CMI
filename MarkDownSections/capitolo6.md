# SINTASSI E SEMANTICA COMPOSITIVA

In Gamma, la partitura tradizionale lascia il posto a un documento YAML, un formato che diventa un vero e proprio linguaggio per la composizione algoritmica.
La grammatica di questo linguaggio si fonda su una gerarchia chiara e intuitiva, che va dalla macro-struttura della composizione al dettaglio del singolo layer sonoro. Al livello più alto troviamo le sezioni, definite da una durata e da parametri strutturali come il `ratio_temporale` o un inviluppo d'ampiezza globale. Ogni sezione funge da contenitore temporale e contestuale per i suoi layer, che rappresentano i veri flussi sonori. È a livello del layer che si definisce l'identità musicale: la densità degli eventi, la loro distribuzione nel tempo tramite un `timing_model` e, soprattutto, le maschere di tendenza che ne governano i parametri.

Questa organizzazione non è casuale, ma guida il compositore a pensare in termini di struttura e tessitura. I parametri di sezione definiscono il "contenitore", mentre i parametri di layer definiscono il "contenuto". Il sistema, inoltre, è progettato per essere conciso. Grazie a un modello di eredità implicita, molti parametri assumono valori di default sensati, permettendo al compositore di concentrarsi solo sugli aspetti che desidera modificare. Una semplice maschera come dinamica: 'mf' viene automaticamente espansa dal sistema nella sua forma più strutturata (`{value: 'mf'}`), mantenendo il file di partitura pulito e leggibile.

All'interno di questa struttura, la sintassi di Gamma offre strumenti sofisticati per scolpire la forma nel tempo. Il parametro lifespan, ad esempio, permette di orchestrare entrate e uscite scaglionate dei layer, definendo la loro finestra di attività come una porzione relativa della durata della sezione. Un layer con `lifespan: [0.2, 0.8]` esisterà solo nella parte centrale della sua sezione, permettendo la creazione di forme ad arco e sovrapposizioni complesse che sarebbero macchinose da specificare in modo sequenziale.

La gestione dei confini temporali è ulteriormente raffinata da due meccanismi complementari: il `safety_buffer` e il `leeway`. Il primo è una misura preventiva che accorcia leggermente la finestra di generazione per garantire che nessun evento "sbordi" accidentalmente nella sezione successiva. Il secondo, il `leeway`, agisce come una valvola di sfogo, concedendo agli ultimi eventi di un layer un piccolo margine di tempo extra per concludersi in modo naturale, evitando troncamenti bruschi. Insieme, questi strumenti offrono un controllo rigoroso ma flessibile sui punti di transizione, un aspetto critico nell'assemblaggio di forme musicali estese.

Infine, la sintassi supporta un flusso di lavoro pratico e iterativo. Modalità speciali come `solo: true` permettono di isolare un singolo layer per la messa a punto, mentre il `veteranMode` ottimizza drasticamente i tempi di rendering riutilizzando i file audio dei layer che non sono stati modificati. Queste non sono funzionalità di sintesi, ma strumenti di orchestrazione che rendono il processo compositivo più agile e interattivo.

In definitiva, il linguaggio YAML in Gamma trascende la sua funzione di semplice formato dati. Esso diventa un medium compositivo. 